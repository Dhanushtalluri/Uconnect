<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UConnect ‚Äì Smart Academic Portal</title>

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
  <!-- Font Awesome (optional) -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />

  <style>
    :root { --primary: #2c6846; --bg-light: #ffffff; --grey: #9fa3a7; --card-radius: 24px; }
    * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Poppins', sans-serif; }
    body { min-height: 100vh; display: flex; justify-content: center; align-items: center;
           background: url('https://res.cloudinary.com/drax7i59f/image/upload/v1756809656/rm222batch3-mind-03_gmgwdc.jpg') center/cover fixed; }
    .card { width: 90%; max-width: 960px; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(6px);
            border-radius: var(--card-radius); display: flex; overflow: hidden; box-shadow: 0 15px 40px rgba(0,0,0,0.15); }
    .form-wrapper { flex: 1; padding: 56px 48px; display: flex; flex-direction: column;
                    justify-content: center; align-items: center; gap: 24px; text-align: center; }
    .brand { font-size: 28px; font-weight: 700; color: var(--primary); letter-spacing: 1px; user-select: none; }
    h1 { font-size: 40px; font-weight: 700; line-height: 1.2; color: #222; }
    .roles { display: flex; justify-content: center; gap: 32px; margin: 12px 0 16px; }
    .role { display: flex; flex-direction: column; align-items: center; }
    .role button { width: 80px; height: 80px; border: 1px solid #e0e0e0; border-radius: 50%; background: #fff; cursor: pointer;
                   display: flex; justify-content: center; align-items: center; transition: all 0.25s ease; font-size: 32px; color: var(--primary); }
    .role button:hover { transform: translateY(-4px); box-shadow: 0 6px 14px rgba(0,0,0,0.15); }
    .role span { margin-top: 6px; font-size: 14px; color: var(--primary); font-weight: 500; }
    form { display: flex; flex-direction: column; gap: 18px; width: 100%; max-width: 360px; }
    input[type="text"], input[type="password"] { width: 100%; padding: 14px 18px; border-radius: 12px;
                                                 border: 1px solid #e0e0e0; background: #f8f8f8; font-size: 14px; outline: none; transition: border 0.2s ease; }
    input:focus { border-color: var(--primary); }
    .btn-primary { padding: 14px 18px; background: var(--primary); color: #fff; font-size: 16px; font-weight: 600; border: none; border-radius: 30px; cursor: pointer; transition: background 0.2s ease; }
    .btn-primary:hover { background: #215133; }
    .login-link { font-size: 14px; text-align: center; margin-top: 4px; }
    .login-link a { color: var(--primary); text-decoration: none; font-weight: 500; }
    .image-wrapper { flex: 1.1; position: relative; overflow: hidden; }
    .image-wrapper img { width: 100%; height: 100%; object-fit: cover; }
    @media (max-width: 768px) { .card { flex-direction: column; } .image-wrapper { height: 260px; } }
  </style>

  <!-- Firebase v9 SDK (Modular) -->
  <script type="module">
    // Import Firebase functions
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    // üî• Replace with your Firebase config
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyBjiKldk4Q-J8dEbhBd6FTGyPb-TQoGadE",
  authDomain: "st-fees.firebaseapp.com",
  projectId: "st-fees",
  storageBucket: "st-fees.firebasestorage.app",
  messagingSenderId: "865723388538",
  appId: "1:865723388538:web:60d5ae456825855cae61c3",
  measurementId: "G-PT132QNN2E"
};

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    // Login function
    window.login = async function () {
      const rollNumber = document.getElementById("studentId").value.trim();
      const password = document.getElementById("password").value.trim();
      const errorDiv = document.getElementById("error");
      errorDiv.textContent = "";

      // Convert roll number to fake email
      const email = rollNumber + "@ucet.com";

      try {
        await signInWithEmailAndPassword(auth, email, password);
        window.location.href = "student.html"; // Redirect on success
      } catch (error) {
        errorDiv.textContent = "‚ùå " + error.message;
        errorDiv.style.color = "red";
      }
    };
  </script>
</head>

<body>
  <div class="card">
    <div class="form-wrapper">
      <span class="brand">UConnect</span>
      <h1>Student Login</h1>

      <div class="roles">
        <div class="role">
          <button aria-label="Student Login">
            <img src="https://cdn-icons-png.flaticon.com/512/3135/3135755.png" alt="Student Icon" style="width: 48px; height: 48px;" />
          </button>
          <span>Student</span>
        </div>
      </div>

      <!-- Form -->
      <form onsubmit="login(); return false;">
        <input type="text" id="studentId" placeholder="Student ID" required />
        <input type="password" id="password" placeholder="Password" required />
        <button class="btn-primary" type="submit">Login</button>
        <div id="error" style="color:red; font-size:14px;"></div>
      </form>

      <p class="login-link">Not a student? <a href="tlogin.html">Teacher Login</a></p>
    </div>

    <div class="image-wrapper">
      <img src="https://res.cloudinary.com/drax7i59f/image/upload/v1756808473/U111_cq53ol.png" alt="Campus Image" />
    </div>
  </div>
</body>
</html>
